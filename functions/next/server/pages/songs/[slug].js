(()=>{var e={};e.id=137,e.ids=[137,220,636],e.modules={361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},979:()=>{},1402:e=>{"use strict";e.exports=import("@prisma/extension-accelerate")},2015:e=>{"use strict";e.exports=require("react")},2326:e=>{"use strict";e.exports=require("react-dom")},3873:e=>{"use strict";e.exports=require("path")},4075:e=>{"use strict";e.exports=require("zlib")},5425:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(8732),l=t(2341);function a(){return(0,r.jsxs)(l.Html,{lang:"en",children:[(0,r.jsxs)(l.Head,{children:[(0,r.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap",rel:"stylesheet"}),(0,r.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Rock+Salt&display=swap",rel:"stylesheet"})]}),(0,r.jsxs)("body",{className:"antialiased",children:[(0,r.jsx)(l.Main,{}),(0,r.jsx)(l.NextScript,{})]})]})}},6047:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var r=t(8732);function l({Component:e,pageProps:s}){return(0,r.jsx)(e,{...s})}t(979)},6330:e=>{"use strict";e.exports=require("@prisma/client")},7910:e=>{"use strict";e.exports=require("stream")},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9021:e=>{"use strict";e.exports=require("fs")},9788:(e,s,t)=>{e.exports=t(1145)},9903:(e,s,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.r(s),t.d(s,{config:()=>u,default:()=>x,getServerSideProps:()=>h,getStaticPaths:()=>m,getStaticProps:()=>p,reportWebVitals:()=>w,routeModule:()=>N,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>f,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>g});var l=t(3885),a=t(237),o=t(1413),n=t(5425),i=t(6047),c=t(9957),d=e([c]);c=(d.then?(await d)():d)[0];let x=(0,o.M)(c,"default"),p=(0,o.M)(c,"getStaticProps"),m=(0,o.M)(c,"getStaticPaths"),h=(0,o.M)(c,"getServerSideProps"),u=(0,o.M)(c,"config"),w=(0,o.M)(c,"reportWebVitals"),g=(0,o.M)(c,"unstable_getStaticProps"),b=(0,o.M)(c,"unstable_getStaticPaths"),y=(0,o.M)(c,"unstable_getStaticParams"),j=(0,o.M)(c,"unstable_getServerProps"),f=(0,o.M)(c,"unstable_getServerSideProps"),N=new l.PagesRouteModule({definition:{kind:a.A.PAGES,page:"/songs/[slug]",pathname:"/songs/[slug]",bundlePath:"",filename:""},components:{App:i.default,Document:n.default},userland:c});r()}catch(e){r(e)}})},9920:(e,s,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.d(s,{A:()=>n});var l=t(6330),a=t(1402),o=e([a]);a=(o.then?(await o)():o)[0];let n=new l.PrismaClient().$extends((0,a.withAccelerate)());r()}catch(e){r(e)}})},9957:(e,s,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.r(s),t.d(s,{default:()=>m,getServerSideProps:()=>p});var l=t(8732),a=t(2015);t(4233);var o=t(9920),n=t(9788),i=t.n(n),c=t(9918),d=t.n(c),x=e([o]);async function p(e){let s=e.params.slug,t=decodeURIComponent(s).replace(/-/g," ").toLowerCase(),r=(await o.A.setlistEntry.findMany({where:{song:{equals:t,mode:"insensitive"}},include:{show:!0},orderBy:{show:{showDate:"desc"}}})).map(e=>({...e,show:{...e.show,showDate:e.show.showDate.toISOString()}})),l=e.req.headers.host||"fouldomain.com",a=e.req.headers["x-forwarded-proto"]||"https",n=`${a}://${l}/songs/${s}`;return{props:{entries:r,songName:t,canonicalUrl:n}}}function m({entries:e,songName:s,canonicalUrl:t}){let[r,o]=(0,a.useState)(25),[n,c]=(0,a.useState)("date"),[x,p]=(0,a.useState)(!1),[m,h]=(0,a.useState)(e),u=(0,a.useRef)(null),w=e[0]?.song||s.replace(/-/g," "),g=e.at(-1)?.show.showDate.split("T")[0],b=e[0]?.show.showDate.split("T")[0],y={backgroundImage:`url('/song-backgrounds/${s.toLowerCase().replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-")}.webp')`,backgroundColor:"#0d0d0d",backgroundSize:"cover",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundPosition:"bottom right"};(0,a.useCallback)(()=>{o(e=>Math.min(e+25,m.length))},[m]);let j=s=>{let t=n!==s||!x;c(s),p(t);let r=[...e].sort((e,r)=>{let l="date"===s?new Date(e.show.showDate):e.show[s].toLowerCase(),a="date"===s?new Date(r.show.showDate):r.show[s].toLowerCase();return t?l>a?1:-1:l<a?1:-1});h(r),o(25)};return(0,l.jsxs)("div",{className:"min-h-screen text-yellow-100 font-ticket px-4 sm:px-6 py-12",style:y,children:[(0,l.jsxs)(i(),{children:[(0,l.jsx)("title",{children:`${w} – Every Time Played by Phish - Foul Domain`}),(0,l.jsx)("meta",{name:"description",content:`Explore every time Phish has played “${w}”, performed ${e.length} times from ${g||"the beginning"} to ${b||"recently"}.`}),(0,l.jsx)("meta",{property:"og:title",content:`${w} – Foul Domain`}),(0,l.jsx)("meta",{property:"og:description",content:`Explore every time Phish has played “${w}”, performed ${e.length} times from ${g||"the beginning"} to ${b||"recently"}.`}),(0,l.jsx)("meta",{property:"og:type",content:"website"}),(0,l.jsx)("link",{rel:"canonical",href:t})]}),(0,l.jsx)("div",{className:"flex justify-center mb-6",children:(0,l.jsx)("h1",{className:"text-6xl sm:text-7xl font-bold text-yellow-100 drop-shadow-md text-center",children:w})}),(0,l.jsxs)("div",{className:"flex flex-wrap justify-center gap-6 mb-10 sm:flex-row sm:gap-6",children:[(0,l.jsxs)("div",{className:"flex sm:hidden overflow-x-auto gap-4 px-2 w-full",children:[(0,l.jsxs)("div",{className:"min-w-[240px] flex-shrink-0 bg-yellow-900/40 text-yellow-100 rounded-xl px-6 py-4 border border-yellow-700 text-center",children:[(0,l.jsx)("p",{className:"text-lg font-bold uppercase tracking-wider",children:"Times Played"}),(0,l.jsx)("p",{className:"text-2xl",children:e.length})]}),g&&(0,l.jsxs)("div",{className:"min-w-[240px] flex-shrink-0 bg-yellow-900/40 text-yellow-100 rounded-xl px-6 py-4 border border-yellow-700 text-center",children:[(0,l.jsx)("p",{className:"text-lg font-bold uppercase tracking-wider",children:"First Played"}),(0,l.jsx)("p",{className:"text-xl",children:g})]}),b&&(0,l.jsxs)("div",{className:"min-w-[240px] flex-shrink-0 bg-yellow-900/40 text-yellow-100 rounded-xl px-6 py-4 border border-yellow-700 text-center",children:[(0,l.jsx)("p",{className:"text-lg font-bold uppercase tracking-wider",children:"Last Played"}),(0,l.jsx)("p",{className:"text-xl",children:b})]})]}),(0,l.jsxs)("div",{className:"hidden sm:flex flex-wrap justify-center gap-6",children:[(0,l.jsxs)("div",{className:"bg-yellow-900/40 text-yellow-100 rounded-xl px-6 py-4 border border-yellow-700 text-center",children:[(0,l.jsx)("p",{className:"text-lg font-bold uppercase tracking-wider",children:"Times Played"}),(0,l.jsx)("p",{className:"text-2xl",children:e.length})]}),g&&(0,l.jsxs)("div",{className:"bg-yellow-900/40 text-yellow-100 rounded-xl px-6 py-4 border border-yellow-700 text-center",children:[(0,l.jsx)("p",{className:"text-lg font-bold uppercase tracking-wider",children:"First Played"}),(0,l.jsx)("p",{className:"text-xl",children:g})]}),b&&(0,l.jsxs)("div",{className:"bg-yellow-900/40 text-yellow-100 rounded-xl px-6 py-4 border border-yellow-700 text-center",children:[(0,l.jsx)("p",{className:"text-lg font-bold uppercase tracking-wider",children:"Last Played"}),(0,l.jsx)("p",{className:"text-xl",children:b})]})]})]}),(0,l.jsx)("div",{className:"w-full flex justify-center",children:(0,l.jsxs)("div",{className:"w-full max-w-[900px]",children:[(0,l.jsx)("div",{className:"h-[100px] bg-no-repeat bg-top bg-[length:100%_100%]",style:{backgroundImage:"url('/scroll-top.png')"}}),(0,l.jsx)("div",{className:"bg-repeat-y bg-[length:100%_100%] px-4 py-6",style:{backgroundImage:"url('/scroll-middle.png')"},children:(0,l.jsx)("div",{className:"overflow-x-auto px-2 sm:px-6",children:(0,l.jsx)("div",{className:"w-full max-w-[75vw] sm:max-w-[720px] mx-auto",children:(0,l.jsxs)("table",{className:"w-full table-fixed font-ticket border-collapse text-sm sm:text-base",children:[(0,l.jsxs)("colgroup",{children:[(0,l.jsx)("col",{className:"w-[40%] sm:w-[28%]"}),(0,l.jsx)("col",{className:"w-[60%] sm:w-[42%]"}),(0,l.jsx)("col",{className:"hidden sm:table-column sm:w-[15%]"}),(0,l.jsx)("col",{className:"hidden sm:table-column sm:w-[15%]"})]}),(0,l.jsx)("thead",{className:"bg-yellow-800 text-yellow-100 uppercase shadow-inner shadow-yellow-950 text-sm sm:text-base",children:(0,l.jsxs)("tr",{children:[(0,l.jsxs)("th",{onClick:()=>j("date"),className:"py-2 px-3 border border-yellow-700 cursor-pointer",children:["Date ",(0,l.jsx)("span",{className:"ml-1",children:"date"===n?x?"▲":"▼":"⋯"})]}),(0,l.jsxs)("th",{onClick:()=>j("venue"),className:"py-2 px-3 border border-yellow-700 cursor-pointer",children:["Venue ",(0,l.jsx)("span",{className:"ml-1",children:"venue"===n?x?"▲":"▼":"⋯"})]}),(0,l.jsxs)("th",{onClick:()=>j("city"),className:"py-2 px-3 border border-yellow-700 cursor-pointer hidden sm:table-cell",children:["City ",(0,l.jsx)("span",{className:"ml-1",children:"city"===n?x?"▲":"▼":"⋯"})]}),(0,l.jsxs)("th",{onClick:()=>j("state"),className:"py-2 px-3 border border-yellow-700 cursor-pointer hidden sm:table-cell",children:["State ",(0,l.jsx)("span",{className:"ml-1",children:"state"===n?x?"▲":"▼":"⋯"})]})]})}),(0,l.jsxs)("tbody",{children:[m.slice(0,r).map((e,s)=>(0,l.jsxs)("tr",{className:`${s%2==0?"bg-yellow-950/10":"bg-yellow-900/5"} hover:bg-yellow-800/40 hover:text-yellow-50 transition-all duration-150`,children:[(0,l.jsx)("td",{className:"py-1 px-3 border border-yellow-700 text-sm sm:text-base",children:(0,l.jsx)(d(),{href:`/shows/${e.show.showDate.split("T")[0]}`,className:"text-sky-300 hover:text-sky-100 hover:underline",children:e.show.showDate.split("T")[0]})}),(0,l.jsx)("td",{className:"py-1 px-3 border border-yellow-700 text-sm sm:text-base",children:e.show.venue}),(0,l.jsx)("td",{className:"py-1 px-3 border border-yellow-700 text-sm sm:text-base hidden sm:table-cell",children:e.show.city}),(0,l.jsx)("td",{className:"py-1 px-3 border border-yellow-700 text-sm sm:text-base hidden sm:table-cell",children:e.show.state})]},e.id)),(0,l.jsx)("tr",{children:(0,l.jsx)("td",{ref:u,colSpan:4,className:"h-8"})})]})]})})})}),(0,l.jsx)("div",{className:"h-[100px] bg-no-repeat bg-bottom bg-[length:100%_100%]",style:{backgroundImage:"url('/scroll-bottom.png')"}})]})})]})}o=(x.then?(await x)():x)[0],r()}catch(e){r(e)}})}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[89,341,358,505],()=>t(9903));module.exports=r})();