(()=>{var e={};e.id=483,e.ids=[220,483,636],e.modules={361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},609:(e,t)=>{"use strict";function r(e){let{ampFirst:t=!1,hybrid:r=!1,hasQuery:s=!1}=void 0===e?{}:e;return t||r&&s}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return r}})},979:()=>{},1025:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},1145:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return x},defaultHead:function(){return u}});let s=r(7020),a=r(3147),n=r(8732),l=a._(r(2015)),o=s._(r(8160)),i=r(7043),d=r(1523),c=r(609);function u(e){void 0===e&&(e=!1);let t=[(0,n.jsx)("meta",{charSet:"utf-8"},"charset")];return e||t.push((0,n.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),t}function p(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===l.default.Fragment?e.concat(l.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}r(1025);let h=["name","httpEquiv","charSet","itemProp"];function m(e,t){let{inAmpMode:r}=t;return e.reduce(p,[]).reverse().concat(u(r).reverse()).filter(function(){let e=new Set,t=new Set,r=new Set,s={};return a=>{let n=!0,l=!1;if(a.key&&"number"!=typeof a.key&&a.key.indexOf("$")>0){l=!0;let t=a.key.slice(a.key.indexOf("$")+1);e.has(t)?n=!1:e.add(t)}switch(a.type){case"title":case"base":t.has(a.type)?n=!1:t.add(a.type);break;case"meta":for(let e=0,t=h.length;e<t;e++){let t=h[e];if(a.props.hasOwnProperty(t))if("charSet"===t)r.has(t)?n=!1:r.add(t);else{let e=a.props[t],r=s[t]||new Set;("name"!==t||!l)&&r.has(e)?n=!1:(r.add(e),s[t]=r)}}}return n}}()).reverse().map((e,t)=>{let s=e.key||t;if(process.env.__NEXT_OPTIMIZE_FONTS&&!r&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(t=>e.props.href.startsWith(t))){let t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,l.default.cloneElement(e,t)}return l.default.cloneElement(e,{key:s})})}let x=function(e){let{children:t}=e,r=(0,l.useContext)(i.AmpStateContext),s=(0,l.useContext)(d.HeadManagerContext);return(0,n.jsx)(o.default,{reduceComponentsToState:m,headManager:s,inAmpMode:(0,c.isInAmpMode)(r),children:t})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1402:e=>{"use strict";e.exports=import("@prisma/extension-accelerate")},1523:(e,t,r)=>{"use strict";e.exports=r(3885).vendored.contexts.HeadManagerContext},2015:e=>{"use strict";e.exports=require("react")},2906:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>h,getServerSideProps:()=>p});var a=r(8732),n=r(2015),l=r(9788),o=r.n(l),i=r(9918),d=r.n(i),c=r(9920),u=e([c]);async function p(e){let{year:t}=e.params,r=new Date(`${t}-01-01`),s=new Date(`${parseInt(t,10)+1}-01-01`),a=await c.A.show.findMany({where:{showDate:{gte:r,lt:s}},orderBy:{showDate:"asc"}}),n=e.req.headers.host||"fouldomain.com",l=e.req.headers["x-forwarded-proto"]||"https",o=`${l}://${n}/year/${t}`;return{props:{year:t,shows:a.map(e=>({...e,showDate:e.showDate.toISOString()})),canonicalUrl:o}}}function h({year:e,shows:t,canonicalUrl:r}){let[s,l]=(0,n.useState)(25),[i,c]=(0,n.useState)("showDate"),[u,p]=(0,n.useState)(!1),h=(0,n.useRef)(null),m=[...t].sort((e,t)=>{let r="showDate"===i?new Date(e[i]):e[i]?.toLowerCase(),s="showDate"===i?new Date(t[i]):t[i]?.toLowerCase();return u?r>s?1:-1:r<s?1:-1}).slice(0,s);return(0,n.useCallback)(()=>{l(e=>e+25)},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o(),{children:[(0,a.jsx)("title",{children:`Phish Shows Played in ${e} | Foul Domain`}),(0,a.jsx)("meta",{name:"description",content:`Explore all Phish shows from the year ${e}. View full setlists, venues, and performance history.`}),(0,a.jsx)("meta",{property:"og:title",content:`${e} – Phish Shows | Foul Domain`}),(0,a.jsx)("meta",{property:"og:description",content:`Explore all Phish shows from the year ${e}. View full setlists, venues, and performance history.`}),(0,a.jsx)("meta",{property:"og:type",content:"website"}),(0,a.jsx)("link",{rel:"canonical",href:r})]}),(0,a.jsx)("div",{className:"min-h-screen overflow-x-hidden text-yellow-100 font-ticket",style:{backgroundImage:"url('/backgrounds/years.png')",backgroundColor:"#0d0d0d",backgroundSize:"cover",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundPosition:"bottom right"},children:(0,a.jsxs)("div",{className:"min-h-screen px-4 pb-20 pt-8 flex flex-col items-center font-ticket text-yellow-100",children:[(0,a.jsx)("h1",{className:"text-6xl sm:text-7xl font-bold text-yellow-100 drop-shadow-md text-center mb-4",children:e}),(0,a.jsx)("p",{className:"italic text-sm text-yellow-300 mb-8 text-center",children:"Each show from this year — unrolled below."}),(0,a.jsxs)("div",{className:"w-full max-w-5xl text-center",children:[(0,a.jsx)("img",{src:"/scroll-top.png",alt:"Scroll top",className:"w-full"}),(0,a.jsxs)("div",{className:"bg-repeat-y bg-center px-4 py-10 text-yellow-100",style:{backgroundImage:"url(/scroll-middle.png)"},children:[(0,a.jsx)("div",{className:"overflow-x-auto rounded-xl",children:(0,a.jsxs)("table",{className:"w-[90%] max-w-[825px] mx-auto table-fixed border-collapse text-base sm:text-lg",children:[(0,a.jsxs)("colgroup",{children:[(0,a.jsx)("col",{style:{width:"18%"}}),(0,a.jsx)("col",{style:{width:"42%"}}),(0,a.jsx)("col",{style:{width:"25%"}}),(0,a.jsx)("col",{style:{width:"15%"}})]}),(0,a.jsx)("thead",{className:"bg-gradient-to-b from-yellow-800 to-yellow-900 text-yellow-100 uppercase shadow-inner shadow-yellow-950",children:(0,a.jsx)("tr",{children:[{label:"Date",key:"showDate"},{label:"Venue",key:"venue"},{label:"City",key:"city"},{label:"State",key:"state"}].map(({label:e,key:t})=>(0,a.jsxs)("th",{className:"py-3 px-4 border border-yellow-700 shadow-inner shadow-yellow-900 cursor-pointer",onClick:()=>{i===t?p(!u):(c(t),p(!0))},children:[e," ",(0,a.jsx)("span",{className:"ml-1",children:i===t?u?"▲":"▼":"⋯"})]},t))})}),(0,a.jsxs)("tbody",{children:[m.map((e,t)=>{let r=e.showDate?.split("T")[0];return(0,a.jsxs)("tr",{className:"hover:bg-yellow-800/40 hover:text-yellow-50 transition-all duration-150",children:[(0,a.jsx)("td",{className:"py-2 px-4 border border-yellow-700 shadow-inner shadow-yellow-900",children:(0,a.jsx)(d(),{href:`/shows/${r}`,className:"text-sky-300 hover:text-sky-100 hover:underline",children:r})}),(0,a.jsx)("td",{className:"py-2 px-4 border border-yellow-700 shadow-inner shadow-yellow-900",children:e.venue}),(0,a.jsx)("td",{className:"py-2 px-4 border border-yellow-700 shadow-inner shadow-yellow-900",children:e.city}),(0,a.jsx)("td",{className:"py-2 px-4 border border-yellow-700 shadow-inner shadow-yellow-900",children:e.state})]},e.id)}),(0,a.jsx)("tr",{children:(0,a.jsx)("td",{ref:h,colSpan:4,className:"h-8"})})]})]})}),(0,a.jsx)("p",{className:"italic text-xs text-yellow-300 mt-6 max-w-[240px] mx-auto",children:"Every show a chapter, every jam a paragraph."})]}),(0,a.jsx)("img",{src:"/scroll-bottom.png",alt:"Scroll bottom",className:"w-full"})]})]})})]})}c=(u.then?(await u)():u)[0],s()}catch(e){s(e)}})},3873:e=>{"use strict";e.exports=require("path")},5425:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(8732),a=r(2341);function n(){return(0,s.jsxs)(a.Html,{lang:"en",children:[(0,s.jsxs)(a.Head,{children:[(0,s.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap",rel:"stylesheet"}),(0,s.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Rock+Salt&display=swap",rel:"stylesheet"})]}),(0,s.jsxs)("body",{className:"antialiased",children:[(0,s.jsx)(a.Main,{}),(0,s.jsx)(a.NextScript,{})]})]})}},6047:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(8732);function a({Component:e,pageProps:t}){return(0,s.jsx)(e,{...t})}r(979)},6330:e=>{"use strict";e.exports=require("@prisma/client")},7043:(e,t,r)=>{"use strict";e.exports=r(3885).vendored.contexts.AmpContext},7259:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>x,default:()=>u,getServerSideProps:()=>m,getStaticPaths:()=>h,getStaticProps:()=>p,reportWebVitals:()=>f,routeModule:()=>v,unstable_getServerProps:()=>b,unstable_getServerSideProps:()=>j,unstable_getStaticParams:()=>g,unstable_getStaticPaths:()=>w,unstable_getStaticProps:()=>y});var a=r(3885),n=r(237),l=r(1413),o=r(5425),i=r(6047),d=r(2906),c=e([d]);d=(c.then?(await c)():c)[0];let u=(0,l.M)(d,"default"),p=(0,l.M)(d,"getStaticProps"),h=(0,l.M)(d,"getStaticPaths"),m=(0,l.M)(d,"getServerSideProps"),x=(0,l.M)(d,"config"),f=(0,l.M)(d,"reportWebVitals"),y=(0,l.M)(d,"unstable_getStaticProps"),w=(0,l.M)(d,"unstable_getStaticPaths"),g=(0,l.M)(d,"unstable_getStaticParams"),b=(0,l.M)(d,"unstable_getServerProps"),j=(0,l.M)(d,"unstable_getServerSideProps"),v=new a.PagesRouteModule({definition:{kind:n.A.PAGES,page:"/year/[year]",pathname:"/year/[year]",bundlePath:"",filename:""},components:{App:i.default,Document:o.default},userland:d});s()}catch(e){s(e)}})},8160:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let s=r(2015),a=()=>{},n=()=>{};function l(e){var t;let{headManager:r,reduceComponentsToState:l}=e;function o(){if(r&&r.mountedInstances){let t=s.Children.toArray(Array.from(r.mountedInstances).filter(Boolean));r.updateHead(l(t,e))}}return null==r||null==(t=r.mountedInstances)||t.add(e.children),o(),a(()=>{var t;return null==r||null==(t=r.mountedInstances)||t.add(e.children),()=>{var t;null==r||null==(t=r.mountedInstances)||t.delete(e.children)}}),a(()=>(r&&(r._pendingUpdate=o),()=>{r&&(r._pendingUpdate=o)})),n(()=>(r&&r._pendingUpdate&&(r._pendingUpdate(),r._pendingUpdate=null),()=>{r&&r._pendingUpdate&&(r._pendingUpdate(),r._pendingUpdate=null)})),null}},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9788:(e,t,r)=>{e.exports=r(1145)},9920:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{A:()=>o});var a=r(6330),n=r(1402),l=e([n]);n=(l.then?(await l)():l)[0];let o=new a.PrismaClient().$extends((0,n.withAccelerate)());s()}catch(e){s(e)}})}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[89,341,358],()=>r(7259));module.exports=s})();